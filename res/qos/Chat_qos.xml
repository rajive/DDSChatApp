<?xml version="1.0"?>
<dds xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="/opt/rti/NDDSHOME/resource/schema/rti_dds_qos_profiles.xsd">

	<qos_library name="ChatQosLib">
        
        <qos_profile name="UnboundedSupport">
            <datawriter_qos>
                <property><!-- Not supported in Connext Micro: Ignored -->
                    <value>
                        <element>
                           <!-- This property is needed when using -unboundedSupport command-line 
                                option in order to configure the memory allocation policy for the 
                                buffers that are used to serialize the samples -->  
                           <name>
                                dds.data_writer.history.memory_manager.fast_pool.pool_buffer_max_size
                           </name>
                           <value>4096</value>
                        </element>
                    </value>
                </property>     
            </datawriter_qos>

            <datareader_qos>                     
                <property><!-- Not supported in Connext Micro: Ignored -->
                    <value>
                        <element>
                            <!-- This property is needed when using -unboundedSupport command-line 
                                 option in order to configure the memory allocation policy for the 
                                 buffers that are used to keep the serialized keys for instances -->  
                            <name>
                                dds.data_reader.history.memory_manager.fast_pool.pool_buffer_max_size
                            </name>
                            <value>4096</value>
                        </element>
                    </value>
               </property>              
            </datareader_qos>        
        </qos_profile>
                                       
        
        <!-- Chat Service QoS policies -->     
		<qos_profile name="Chat_Root"
				     base_name="BuiltinQosLibExp::Generic.StrictReliable">
	
			<datawriter_qos topic_filter="Chat*" 
			                base_name="BuiltinQosLibExp::Pattern.Status">
				<base_name>
					<element>UnboundedSupport</element>
				</base_name>
			</datawriter_qos>

			<datareader_qos topic_filter="Chat*" 
			                base_name="BuiltinQosLibExp::Pattern.Status">   	              
                <base_name>
                    <element>UnboundedSupport</element>
                </base_name>	
                <history>
                    <depth>3</depth>
                </history>              		
			</datareader_qos>
			
            <participant_qos>
                <!-- The participant name, if it is set, will be displayed in the RTI 
                    tools, making it easier for you to tell one application from another -->
                <participant_name>
                    <name>Rajive</name>
                </participant_name>   
            </participant_qos>
			
		</qos_profile>
		
		
        <!-- Pub Interface QoS policies --> 		
        <qos_profile name="Chat_Pub" base_name="Chat_Root">
            <publisher_qos>
                <partition><!-- Not supported in Connext Micro: Ignored -->
                    <name>
                        <element></element>
                        <element>starwars</element>
                        <element>startrek</element>
                        <element>funny</element>
                        <element>*</element>
                    </name>
                </partition>
            </publisher_qos>        
        </qos_profile>		
        
        
         <!-- Sub Interface QoS policies -->           
        <qos_profile name="Chat_Sub" base_name="Chat_Root" />
        
        
        <!-- Pub.Exclusive Interface QoS policies -->
		<qos_profile name="Chat_Pub.Exclusive" base_name="Chat_Pub">
			<datawriter_qos topic_filter="Chat*">
				<ownership>
					<kind>EXCLUSIVE_OWNERSHIP_QOS</kind>
				</ownership>
				<ownership_strength>
					<value>10</value>
				</ownership_strength>
			</datawriter_qos>
		</qos_profile>      
        
        
         <!-- Sub.Exclusive Interface QoS policies -->           
        <qos_profile name="Chat_Sub.Exclusive" base_name="Chat_Sub">        
            <datareader_qos topic_filter="Chat*">
                <ownership>
                    <kind>EXCLUSIVE_OWNERSHIP_QOS</kind>
                </ownership>        
		     </datareader_qos>
		</qos_profile>

	</qos_library>
</dds>
